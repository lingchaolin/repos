package forIO;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FilenameFilter;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
/**
 * 测试读取写入文件：
 * @author Administrator
 *
 */
public class IOforTest {
	public static void main(String[]args) throws IOException{
		File src=new File("D:/Class/work");//原文件夹
		File dest=new File("D:/Class/target/work");
		copyDir(src,dest);
	}
	/**
	 * 复制文件夹及其子孙文件
	 * 1.文件夹-->目标处新建
	 * 2.拷贝子文件
	 */
	public static void copyDir(File src,File dest) throws IOException{
		if(src.isFile()){
			IOcopy(src,dest);//文件--copy
		}else{//文件夹--创建文件夹，拷贝子文件及子文件夹
			dest.mkdir();
			for(File sub:src.listFiles()){
				copyDir(sub,new File(dest,sub.getName()));
			}
		}
		//确保文件夹的存在-不存在的话创建
		System.out.println(src.getAbsolutePath());
		System.out.println(src.getName());
		System.out.println("………………");
	}

	///拷贝-copy
	public static void IOcopy(File file1,File file2) throws IOException{
		if(!file1.isFile()){
			System.out.println("源文件异常");
//			throw new IOException("源文件异常");
		}
		InputStream is=new FileInputStream(file1);
		OutputStream os=new FileOutputStream(file2);
		byte []flush=new byte[1024];
		int len=0;
		while(-1!=(len=is.read(flush))){
			os.write(flush,0,len);
		}
		os.flush();
		os.close();
		is.close();
	}
}
//public static void IOin(File file){
//InputStream ins=null;
//try {
//	 ins=new FileInputStream(file);
//	byte []car=new byte[1024];
//	int len=0;
//	StringBuilder sb=new StringBuilder();
//	while(-1!=(len=ins.read(car))){
//		String str=new String(car,0,len);
//		sb.append(str);
//	}
//	System.out.println(sb.toString());
////	System.out.println("*******");
//} catch (IOException e) {
//	e.printStackTrace();
//}finally{
//	
//		try {
//			if(ins!=null){
//			ins.close();
//			}
//		} catch (IOException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
//	
//}
//}
//public static void IOout(File file){
////流
//OutputStream outs=null;
//try {
//	outs=new FileOutputStream(file,true);
//	String word="写入测试-2";
//	byte data[]=word.getBytes();
//	outs.write(data,0,data.length );
//	outs.flush();
//	} catch (IOException e) {
//		e.printStackTrace();
//	}finally{
//		try {
//			if(outs!=null){
//				outs.close();
//			}
//		} catch (IOException e) {
//		}
//	
//}
//}