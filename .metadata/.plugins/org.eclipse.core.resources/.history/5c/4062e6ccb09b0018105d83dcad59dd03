<?xml version="1.0" encoding="UTF-8"?> 
<beans xmlns="http://www.springframework.org/schema/beans" 
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
		xsi:schemaLocation="http://www.springframework.org/schema/beans 
							http://www.springframework.org/schema/beans/spring-beans.xsd"> 
	<!--声明实现类  -->					
	<bean id="infoserviceimpl" class="com.aowin.aop.InfoServiceImpl"></bean>
	<!--声明通知类  -->
	<bean id="infobeforeadvice" class="com.aowin.aop.advice.InfoBeforeAdvice"></bean>
	<!--代理工厂      1.设置通知类 (怎么通知)  2.设置通知对象  --> 
	
    <bean name = "myAdvisor" class="org.springframework.aop.support.RegexpMethodPointcutAdvisor">
       <property name="advice" ref="infobeforeadvice"></property>
       <!-- 根据正则表达式指定切入点  -->
       <property name="pattern" value="insert"/><!-- 匹配对象是全限定性方法名（包含包名、类名、接口名的那种） -->
    </bean>
	
	<bean id="proxy" class="org.springframework.aop.framework.ProxyFactoryBean"> 
		<property name="interceptorNames">
			<list>
				<value>infobeforeadvice</value>
			</list>
		</property>
		<!--设置目标对象  -->
		<property name="target" ref="infoserviceimpl"></property>
		<!--设置接口  -->
		<property name="proxyInterfaces">
			<list>
				<value>com.aowin.aop.InfoService</value>
			</list>
		</property>
	</bean>
</beans>